<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ù…ØªØ¬Ø±ÙŠ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="login-container">
    <h1>ğŸ›ï¸ Ù…ØªØ¬Ø±ÙŠ Ù„Ù„Ù…Ù„Ø§Ø¨Ø³</h1>

    <div id="register-section">
      <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
      <input type="text" id="regName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
      <input type="email" id="regEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
      <input type="tel" id="regPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„" required>
      <input type="password" id="regPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
      <button onclick="sendCode()">Ø¥Ø±Ø³Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯</button>
    </div>

    <div id="verify-section" style="display:none;">
      <h3>Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø°ÙŠ ÙˆØµÙ„Ùƒ</h3>
      <input type="text" id="verifyCodeInput" placeholder="Ø§Ù„ÙƒÙˆØ¯">
      <button onclick="verifyCode()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</button>
    </div>

    <div id="login-section" style="display:none;">
      <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
      <input type="email" id="loginEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
      <input type="password" id="loginPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
      <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    </div>
  </div>

  <script>
    let generatedCode = "";

    function sendCode() {
      const name = document.getElementById("regName").value.trim();
      const email = document.getElementById("regEmail").value.trim();
      const phone = document.getElementById("regPhone").value.trim();
      const pass = document.getElementById("regPass").value.trim();

      if (!name || !email || !phone || !pass) {
        alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ù…Ù„Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
        return;
      }

      generatedCode = Math.floor(1000 + Math.random() * 9000).toString();
      alert("ÙƒÙˆØ¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ùˆ: " + generatedCode);

      document.getElementById("register-section").style.display = "none";
      document.getElementById("verify-section").style.display = "block";
    }

    function verifyCode() {
      const inputCode = document.getElementById("verifyCodeInput").value.trim();

      if (inputCode === generatedCode) {
        alert("ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
        const user = {
          name: document.getElementById("regName").value,
          email: document.getElementById("regEmail").value,
          phone: document.getElementById("regPhone").value,
          pass: document.getElementById("regPass").value
        };
        localStorage.setItem("user", JSON.stringify(user));

        document.getElementById("verify-section").style.display = "none";
        document.getElementById("login-section").style.display = "block";
      } else {
        alert("Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ âŒ");
      }
    }

    function login() {
      const email = document.getElementById("loginEmail").value.trim();
      const pass = document.getElementById("loginPass").value.trim();
      const savedUser = JSON.parse(localStorage.getItem("user"));

      if (savedUser && email === savedUser.email && pass === savedUser.pass) {
        alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ ğŸ‰");
        window.location.href = "market.html";
      } else {
        alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø© âŒ");
      }
    }
  </script>
</body>
</html>
<!DOCTYPE html>