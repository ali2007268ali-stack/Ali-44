<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…ØªØ¬Ø±ÙŠ - Ø§Ù„Ø³ÙˆÙ‚</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ğŸ›ï¸ Ù…ØªØ¬Ø±ÙŠ Ù„Ù„Ù…Ù„Ø§Ø¨Ø³</h1>
    <button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
  </header>

  <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
  <section class="container" id="product-list">
    <h2>ğŸ§¾ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
    <div id="products"></div>
  </section>

  <!-- Ø§Ù„Ø³Ù„Ø© -->
  <section id="cart">
    <h2>ğŸ›’ Ø§Ù„Ø³Ù„Ø©</h2>
    <ul id="cart-items"></ul>
    <p><strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong> <span id="total">0</span> Ø¬Ù†ÙŠÙ‡</p>

    <h3>ğŸ“‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨</h3>
    <textarea id="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù† Ø§Ù„Ù…Ù‚Ø§Ø³ Ø£Ùˆ Ø§Ù„Ù„ÙˆÙ†..."></textarea>
    <input type="text" id="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
    <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„">
    <button onclick="getLocation()">ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
    <p id="location"></p>
    <button onclick="confirmOrder()">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
  </section>

  <script>
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† localStorage Ø£Ùˆ Ø¥Ø¶Ø§ÙØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    let products = JSON.parse(localStorage.getItem("products")) || [
      { name: "Ù‚Ù…ÙŠØµ Ø±Ø¬Ø§Ù„ÙŠ", price: 150, image: "images/1.JPG" },
      { name: "Ø¨Ù†Ø·Ø§Ù„ Ø¬ÙŠÙ†Ø²", price: 250, image: "images/jeans.jpg" },
      { name: "Ø¬Ø§ÙƒÙŠØª Ø´ØªÙˆÙŠ", price: 400, image: "images/jacket.jpg" }
    ];

    const productsDiv = document.getElementById("products");

    function displayProducts() {
      productsDiv.innerHTML = "";
      products.forEach((p, i) => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
          <img src="${p.image}" alt="${p.name}">
          <h3>${p.name}</h3>
          <p>${p.price} Ø¬Ù†ÙŠÙ‡</p>
          <button onclick="addToCart(${i})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
        `;
        productsDiv.appendChild(div);
      });
    }

    let cart = [];
    function addToCart(index) {
      cart.push(products[index]);
      updateCart();
    }

    function updateCart() {
      const ul = document.getElementById("cart-items");
      const total = document.getElementById("total");
      ul.innerHTML = "";
      let sum = 0;
      cart.forEach((item, i) => {
        sum += item.price;
        const li = document.createElement("li");
        li.textContent = `${item.name} - ${item.price} Ø¬Ù†ÙŠÙ‡`;
        ul.appendChild(li);
      });
      total.textContent = sum;
    }

    // Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const link = `https://www.google.com/maps?q=${lat},${lon}`;
          document.getElementById("location").innerHTML =
            `<a href="${link}" target="_blank">Ø¹Ø±Ø¶ Ù…ÙˆÙ‚Ø¹ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©</a>`;
        });
      } else {
        alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
      }
    }

    // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
    function confirmOrder() {
      const notes = document.getElementById("notes").value.trim();
      const address = document.getElementById("address").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const location = document.getElementById("location").innerHTML;
      const user = JSON.parse(localStorage.getItem("user"));

      if (cart.length === 0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");
      if (!address || !phone) return alert("Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ù† ÙØ¶Ù„Ùƒ");

      const total = document.getElementById("total").textContent;
      const order = {
        userName: user.name,
        phone,
        address,
        notes,
        location,
        total,
        items: cart
      };

      let orders = JSON.parse(localStorage.getItem("orders")) || [];
      orders.push(order);
      localStorage.setItem("orders", JSON.stringify(orders));

      alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!");
      cart = [];
      updateCart();
    }

    function logout() {
      window.location.href = "index.html";
    }

    displayProducts();
  </script>
</body>
</html>
+<!DOCTYPE html>